
<!DOCTYPE html>
<html>
<head>
	<style>
		.a {
			background-color: #212121;
		}

		body {
			background-color: #212121;
		}

		* {
			color: white;
		}

		label {
			color: #BDBDBD !important;
		}

		textarea {
			color: #BDBDBD !important;
		}

		.v-card__actions {
			display: flex;
			justify-content: space-between;
			position: relative;
			top: -10px;
		}
		/*img
		@@media screen and (min-width: 1260px) {
			.myimg {
				width: 2000px;
				height: 2000px; 能改高
			}
		}*/


	</style>
</head>
<body>
	<div id="mika">
		<v-app>
			<template>
				<v-row class="a">
					<v-col v-for="(x,index) in RoomInfo.cApicPath" class="d-flex child-flex" cols="4">
						<v-img :src="'/Camping_Area_Picture/'+ x"
							   lazy-src="https://picsum.photos/id/11/10/6"
							   aspect-ratio="1"
							   class="grey lighten-2">
							@*<p>{{x}}</p>*@
							<template v-slot:placeholder>
								<v-row class="fill-height ma-0"
									   align="center"
									   justify="center">
									<v-progress-circular indeterminate
														 color="grey lighten-5"></v-progress-circular>
								</v-row>
							</template>
						</v-img>
					</v-col>
				</v-row>
			</template>
			<template>
				<v-form>
					<v-container class="a">
						<v-row>
							<v-col cols="12"
								   sm="6"
								   md="3">
								<h3>
									電話@*<v-icon>mdi-phone-classic</v-icon>*@<v-icon color="#BDBDBD">mdi-cellphone</v-icon>
									<v-text-field readonly :label="RoomInfo.cAphone"></v-text-field>
								</h3>
							</v-col>
							<v-col cols="12"
								   sm="6"
								   md="3">
								<h3>
									地址<v-icon color="#BDBDBD">mdi-map-marker</v-icon>@*<v-icon>mdi-home</v-icon><v-icon>mdi-home-flood</v-icon>*@
									<v-text-field readonly :label="RoomInfo.cAaddress"></v-text-field>
								</h3>
							</v-col>
						</v-row>
					</v-container>
				</v-form>
			</template>
			@*<p>電話 : {{RoomInfo.cAphone}}</p>
				<p>地址 : {{RoomInfo.cAaddress}}</p>*@
			<template>
				<v-container fluid class="a">
					<h3>概述@*<v-icon>mdi-tooltip-text</v-icon>*@<v-icon color="#BDBDBD">mdi-tooltip-text-outline</v-icon>@*<v-icon>mdi-message</v-icon><v-icon>mdi-chat</v-icon>*@</h3>
					<v-row style="padding-top:10px">
						<v-col cols="12" md="6">
							<v-textarea readonly outlined name="input-7-4" label="概述"
										:value="RoomInfo.cAdescription"></v-textarea>
						</v-col>
					</v-row>
				</v-container>
			</template>

			@*<label>服務設施</label>
				<ul class="list-group list-group-horizontal-sm">
					<li v-for="(x,key) in RoomInfo" v-show="x == true" class="list-group-item">{{key}}</li>
				</ul>*@
			<template>
				@*<h3 style="padding-top:15px">服務設施<v-icon>mdi-script-text</v-icon></h3>
					<div style="padding-top:10px" class="text-md-left">
						<v-chip v-for="(x,key) in roominfo" v-show="x == true" class="ma-2" color="black" text-color="white">
							{{key}}
							<v-icon right>
								mdi-star
							</v-icon>
						</v-chip>
					</div>*@
			</template>
			<template>
				<v-container fluid class="a">
					<h3 style="padding-top:15px">服務設施<v-icon color="#BDBDBD">mdi-script-text</v-icon></h3>
					<div style="padding-top:10px" class="text-md-left">
						<v-chip v-show="RoomInfo.wifi" class="ma-2" color="#757575" text-color="#E0E0E0"><v-icon left> mdi-wifi </v-icon>WIFI</v-chip>
						<v-chip v-show="RoomInfo.breakfast" class="ma-2" color="#757575" text-color="#BF360C"><v-icon left> mdi-coffee </v-icon>早餐</v-chip>
						<v-chip v-show="RoomInfo.canopy" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-umbrella-beach </v-icon>雨棚</v-chip>
						<v-chip v-show="RoomInfo.canteen" class="ma-2" color="#757575" text-color="#F2DBD5"><v-icon left> mdi-liquor </v-icon>食堂</v-chip>
						<v-chip v-show="RoomInfo.dinner" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-food-turkey </v-icon>晚餐</v-chip>
						<v-chip v-show="RoomInfo.isCancel" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-cash-100 </v-icon>退訂</v-chip>
						<v-chip v-show="RoomInfo.kitchen_Utensils" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-silverware-fork-knife </v-icon>廚具</v-chip>
						<v-chip v-show="RoomInfo.lunch" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-noodles </v-icon>午餐</v-chip>
						<v-chip v-show="RoomInfo.mattress" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-bed-empty </v-icon>床墊</v-chip>
						<v-chip v-show="RoomInfo.night_Lighting" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-flashlight </v-icon>夜間照明</v-chip>
						<v-chip v-show="RoomInfo.no_Equipment" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-home-group </v-icon>豪華露營</v-chip>
						<v-chip v-show="RoomInfo.outdoor_Tables_Chairs" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-table-chair </v-icon>戶外桌椅</v-chip>
						<v-chip v-show="RoomInfo.power_Supply" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-power-plug </v-icon>供電設備</v-chip>
						<v-chip v-show="RoomInfo.public_Refrigerator" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-fridge-outline </v-icon>公共冰箱</v-chip>
						<v-chip v-show="RoomInfo.tent_Equipment" class="ma-2" color="#757575" text-color="#BDBDBD"><v-icon left> mdi-tent </v-icon>帳篷設備</v-chip>
					</div>
				</v-container>
			</template>

			<div class="row">
				@*<div class="col-1"><v-icon>mdi-rss</v-icon></div>
					<div class="col-1"><v-icon>mdi-rss-box</v-icon></div>
					<div class="col-1"><v-icon>mdi-silverware</v-icon></div>
					<div class="col-1"><v-icon>mdi-silverware-fork-knife</v-icon></div>
					<div class="col-1"><v-icon>mdi-sleep</v-icon></div>
					<div class="col-1"><v-icon>mdi-smoking</v-icon></div>
					<div class="col-1"><v-icon>mdi-smoking-off</v-icon></div>
					<div class="col-1"><v-icon>mdi-wifi</v-icon></div>
					<div class="col-1"><v-icon>mdi-fire</v-icon></div>
					<div class="col-1"><v-icon>mdi-noodles</v-icon></div>
					<div class="col-1"><v-icon>mdi-robot-outline</v-icon></div>
					<div class="col-1"><v-icon>mdi-thumb-up</v-icon></div>
					<div class="col-1"><v-icon>mdi-trash-can</v-icon></div>
					<div class="col-1"><v-icon>mdi-fridge-outline</v-icon></div>
					<div class="col-1"><v-icon>mdi-power-plug</v-icon></div>
					<div class="col-1"><v-icon>mdi-power-plug-outline</v-icon></div>
					<div class="col-1"><v-icon>mdi-chair-school</v-icon></div>
					<div class="col-1"><v-icon>mdi-lamp</v-icon></div>
					<div class="col-1"><v-icon>mdi-lamp-outline</v-icon></div>*@
			</div>

			<template>
				<v-container fluid class="a">
					<div style="padding-top:50px" class="row">
						@*<div class="" style="height:490px;">*@
						<div v-for="x in RoomInfo.rooms" class="col-lg-3 col-md-4 col-sm-12">
							<v-card color="#BDBDBD" class="mx-auto" max-width="400">
								<v-img class="white--text align-end myimg" height="200px" :src="'/Room_Picture/'+ x.room_Path[0]">
									<v-card-title>{{x.roomType}}</v-card-title>
								</v-img>
								<v-card-title class="text-black text-h6 font-weight-bold"><v-icon>mdi-fire</v-icon>{{x.roomName}}</v-card-title>
								<v-card-subtitle class="text-black font-weight-bold">
									<v-icon>mdi-star-face</v-icon>{{x.room_Des}}
								</v-card-subtitle>
								<v-card-text class="text-danger text-h6 text-right font-weight-bold">平日價格 : TWD {{x.priceOfWeekDay}}</v-card-text>

								<v-card-actions>
									@*<v-btn v-if="!showHeart" v-on:click="changeHeart" icon color="#EF5350">
											<v-icon>mdi-heart</v-icon>
										</v-btn>
										<v-btn v-if="showHeart" v-on:click="changeHeart" icon color="#EF5350">
											<v-icon color="#EF5350">mdi-heart-outline</v-icon>
										</v-btn>*@

									<v-btn v-on:click="sendFavoriteRoomID(x.roomId)" icon color="#EF5350">
										<v-icon v-if="x.roomStatus == 'Favority'">mdi-heart</v-icon>
										<v-icon v-if="x.roomStatus == null">mdi-heart-outline</v-icon>
									</v-btn>


									<v-btn v-on:click="sendRoomId(x.roomId)" color="#212121" dark> 訂房 <v-icon>mdi-cursor-pointer</v-icon></v-btn>
									@*<v-btn color="orange" text> 更多 </v-btn>*@
									@*<v-btn v-on:click="sendFavoriteRoomID(x.roomId)" icon color="#EF5350">
											<v-icon>mdi-heart-outline</v-icon>
										</v-btn>*@
								</v-card-actions>
							</v-card>
						</div>

					</div>
					@*<p>{{RoomInfo}}</p>*@
				</v-container>
			</template>
		</v-app>
	</div>

	<script>
        var v = new Vue({
            el: '#mika',
            vuetify: new Vuetify(),
            data: {
                RoomInfo: [],
                roomId: 0,
                showHeart: true,
                a: {
                    favRoomId: 1
                },
                b: {
                    why: 8787
                },
                show: false
            },
            methods: {
                sendRoomId: function (rid) {
                    //alert(rid);
                    this.roomId = rid;
                    //alert(this.roomId);

                    window.location.href = "/Buyer/reservation/" + this.roomId;
                },
                sendFavoriteRoomID: function (fRoomId) {
                    //alert(fRoomId);

                    let self = this;
                    self.a.favRoomId = fRoomId;
                    //alert(self.a.favRoomId);

                    //POST請求
                    axios({
                        method: 'post',
                        url: '/Buyer/getFavoriteInfo',
                        //API要求的資料
                        data: self.a,
                        headers: { "Content-Type": 'application/json' }
                    })
                        .then(function (response) {
                            if (response.data == true) {
                                //alert("收藏成功");
                                //window.location.reload();
                                axios.get("/Buyer/getRoomInfo").then(function (res) {
                                    self.RoomInfo = res.data;
                                    console.log(res.data);
                                })

                            } else {
                                //alert("已取消收藏");
                                axios.get("/Buyer/getRoomInfo").then(function (res) {
                                    self.RoomInfo = res.data;
                                    console.log(res.data);
                                })
                            }
                        })
                        .catch(function (response) {
                            //handle error
                            //console.log(response.data);
                            window.location.href = response.data
                        });

                },
                changeHeart: function () {
                    if (this.showHeart) {
                        this.showHeart = false;
                    } else {
                        this.showHeart = true;
                    }
                }
            },
            mounted: function () {
                var self = this;
                axios.get("/Buyer/getRoomInfo").then(function (res) {
                    self.RoomInfo = res.data;
                    console.log(res.data);
                })
            },
        })
	</script>
</body>
</html>